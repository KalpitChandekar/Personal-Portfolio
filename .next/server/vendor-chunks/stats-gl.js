"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/stats-gl";
exports.ids = ["vendor-chunks/stats-gl"];
exports.modules = {

/***/ "(ssr)/./node_modules/stats-gl/dist/main.cjs":
/*!*********************************************!*\
  !*** ./node_modules/stats-gl/dist/main.cjs ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nconst panel = __webpack_require__(/*! ./panel.cjs */ \"(ssr)/./node_modules/stats-gl/dist/panel.cjs\");\nconst _Stats = class _Stats2 {\n  constructor({\n    trackGPU = false,\n    logsPerSecond = 30,\n    samplesLog = 60,\n    samplesGraph = 10,\n    precision = 2,\n    minimal = false,\n    horizontal = true,\n    mode = 0\n  } = {}) {\n    this.gl = null;\n    this.ext = null;\n    this.activeQuery = null;\n    this.gpuQueries = [];\n    this.threeRendererPatched = false;\n    this.frames = 0;\n    this.renderCount = 0;\n    this.isRunningCPUProfiling = false;\n    this.totalCpuDuration = 0;\n    this.totalGpuDuration = 0;\n    this.totalGpuDurationCompute = 0;\n    this.totalFps = 0;\n    this.gpuPanel = null;\n    this.gpuPanelCompute = null;\n    this.averageFps = { logs: [], graph: [] };\n    this.averageCpu = { logs: [], graph: [] };\n    this.averageGpu = { logs: [], graph: [] };\n    this.averageGpuCompute = { logs: [], graph: [] };\n    this.handleClick = (event) => {\n      event.preventDefault();\n      this.showPanel(++this.mode % this.dom.children.length);\n    };\n    this.handleResize = () => {\n      this.resizePanel(this.fpsPanel, 0);\n      this.resizePanel(this.msPanel, 1);\n      if (this.gpuPanel)\n        this.resizePanel(this.gpuPanel, 2);\n      if (this.gpuPanelCompute)\n        this.resizePanel(this.gpuPanelCompute, 3);\n    };\n    this.mode = mode;\n    this.horizontal = horizontal;\n    this.minimal = minimal;\n    this.trackGPU = trackGPU;\n    this.samplesLog = samplesLog;\n    this.samplesGraph = samplesGraph;\n    this.precision = precision;\n    this.logsPerSecond = logsPerSecond;\n    this.dom = document.createElement(\"div\");\n    this.initializeDOM();\n    this.beginTime = performance.now();\n    this.prevTime = this.beginTime;\n    this.prevCpuTime = this.beginTime;\n    this.fpsPanel = this.addPanel(new _Stats2.Panel(\"FPS\", \"#0ff\", \"#002\"), 0);\n    this.msPanel = this.addPanel(new _Stats2.Panel(\"CPU\", \"#0f0\", \"#020\"), 1);\n    this.setupEventListeners();\n  }\n  initializeDOM() {\n    this.dom.style.cssText = `\n      position: fixed;\n      top: 0;\n      left: 0;\n      opacity: 0.9;\n      z-index: 10000;\n      ${this.minimal ? \"cursor: pointer;\" : \"\"}\n    `;\n  }\n  setupEventListeners() {\n    if (this.minimal) {\n      this.dom.addEventListener(\"click\", this.handleClick);\n      this.showPanel(this.mode);\n    } else {\n      window.addEventListener(\"resize\", this.handleResize);\n    }\n  }\n  async init(canvasOrGL) {\n    if (!canvasOrGL) {\n      console.error('Stats: The \"canvas\" parameter is undefined.');\n      return;\n    }\n    if (this.handleThreeRenderer(canvasOrGL))\n      return;\n    if (await this.handleWebGPURenderer(canvasOrGL))\n      return;\n    if (!this.initializeWebGL(canvasOrGL))\n      return;\n  }\n  handleThreeRenderer(renderer) {\n    if (renderer.isWebGLRenderer && !this.threeRendererPatched) {\n      this.patchThreeRenderer(renderer);\n      this.gl = renderer.getContext();\n      if (this.trackGPU) {\n        this.initializeGPUTracking();\n      }\n      return true;\n    }\n    return false;\n  }\n  async handleWebGPURenderer(renderer) {\n    if (renderer.isWebGPURenderer) {\n      if (this.trackGPU) {\n        renderer.backend.trackTimestamp = true;\n        if (await renderer.hasFeatureAsync(\"timestamp-query\")) {\n          this.initializeWebGPUPanels();\n        }\n      }\n      this.info = renderer.info;\n      return true;\n    }\n    return false;\n  }\n  initializeWebGPUPanels() {\n    this.gpuPanel = this.addPanel(new _Stats2.Panel(\"GPU\", \"#ff0\", \"#220\"), 2);\n    this.gpuPanelCompute = this.addPanel(\n      new _Stats2.Panel(\"CPT\", \"#e1e1e1\", \"#212121\"),\n      3\n    );\n  }\n  initializeWebGL(canvasOrGL) {\n    if (canvasOrGL instanceof WebGL2RenderingContext) {\n      this.gl = canvasOrGL;\n    } else if (canvasOrGL instanceof HTMLCanvasElement || canvasOrGL instanceof OffscreenCanvas) {\n      this.gl = canvasOrGL.getContext(\"webgl2\");\n      if (!this.gl) {\n        console.error(\"Stats: Unable to obtain WebGL2 context.\");\n        return false;\n      }\n    } else {\n      console.error(\n        \"Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas.\"\n      );\n      return false;\n    }\n    return true;\n  }\n  initializeGPUTracking() {\n    if (this.gl) {\n      this.ext = this.gl.getExtension(\"EXT_disjoint_timer_query_webgl2\");\n      if (this.ext) {\n        this.gpuPanel = this.addPanel(new _Stats2.Panel(\"GPU\", \"#ff0\", \"#220\"), 2);\n      }\n    }\n  }\n  begin() {\n    if (!this.isRunningCPUProfiling) {\n      this.beginProfiling(\"cpu-started\");\n    }\n    if (!this.gl || !this.ext)\n      return;\n    if (this.activeQuery) {\n      this.gl.endQuery(this.ext.TIME_ELAPSED_EXT);\n    }\n    this.activeQuery = this.gl.createQuery();\n    if (this.activeQuery) {\n      this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT, this.activeQuery);\n    }\n  }\n  end() {\n    this.renderCount++;\n    if (this.gl && this.ext && this.activeQuery) {\n      this.gl.endQuery(this.ext.TIME_ELAPSED_EXT);\n      this.gpuQueries.push({ query: this.activeQuery });\n      this.activeQuery = null;\n    }\n  }\n  update() {\n    if (!this.info) {\n      this.processGpuQueries();\n    } else {\n      this.processWebGPUTimestamps();\n    }\n    this.endProfiling(\"cpu-started\", \"cpu-finished\", \"cpu-duration\");\n    this.updateAverages();\n    this.resetCounters();\n  }\n  processWebGPUTimestamps() {\n    this.totalGpuDuration = this.info.render.timestamp;\n    this.totalGpuDurationCompute = this.info.compute.timestamp;\n    this.addToAverage(this.totalGpuDurationCompute, this.averageGpuCompute);\n  }\n  updateAverages() {\n    this.addToAverage(this.totalCpuDuration, this.averageCpu);\n    this.addToAverage(this.totalGpuDuration, this.averageGpu);\n  }\n  resetCounters() {\n    this.renderCount = 0;\n    if (this.totalCpuDuration === 0) {\n      this.beginProfiling(\"cpu-started\");\n    }\n    this.totalCpuDuration = 0;\n    this.totalFps = 0;\n    this.beginTime = this.endInternal();\n  }\n  resizePanel(panel2, offset) {\n    panel2.canvas.style.position = \"absolute\";\n    if (this.minimal) {\n      panel2.canvas.style.display = \"none\";\n    } else {\n      panel2.canvas.style.display = \"block\";\n      if (this.horizontal) {\n        panel2.canvas.style.top = \"0px\";\n        panel2.canvas.style.left = offset * panel2.WIDTH / panel2.PR + \"px\";\n      } else {\n        panel2.canvas.style.left = \"0px\";\n        panel2.canvas.style.top = offset * panel2.HEIGHT / panel2.PR + \"px\";\n      }\n    }\n  }\n  addPanel(panel2, offset) {\n    if (panel2.canvas) {\n      this.dom.appendChild(panel2.canvas);\n      this.resizePanel(panel2, offset);\n    }\n    return panel2;\n  }\n  showPanel(id) {\n    for (let i = 0; i < this.dom.children.length; i++) {\n      const child = this.dom.children[i];\n      child.style.display = i === id ? \"block\" : \"none\";\n    }\n    this.mode = id;\n  }\n  processGpuQueries() {\n    if (!this.gl || !this.ext)\n      return;\n    this.totalGpuDuration = 0;\n    this.gpuQueries.forEach((queryInfo, index) => {\n      if (this.gl) {\n        const available = this.gl.getQueryParameter(queryInfo.query, this.gl.QUERY_RESULT_AVAILABLE);\n        const disjoint = this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);\n        if (available && !disjoint) {\n          const elapsed = this.gl.getQueryParameter(queryInfo.query, this.gl.QUERY_RESULT);\n          const duration = elapsed * 1e-6;\n          this.totalGpuDuration += duration;\n          this.gl.deleteQuery(queryInfo.query);\n          this.gpuQueries.splice(index, 1);\n        }\n      }\n    });\n  }\n  endInternal() {\n    this.frames++;\n    const time = (performance || Date).now();\n    const elapsed = time - this.prevTime;\n    if (time >= this.prevCpuTime + 1e3 / this.logsPerSecond) {\n      const fps = Math.round(this.frames * 1e3 / elapsed);\n      this.addToAverage(fps, this.averageFps);\n      this.updatePanel(this.fpsPanel, this.averageFps, 0);\n      this.updatePanel(this.msPanel, this.averageCpu, this.precision);\n      this.updatePanel(this.gpuPanel, this.averageGpu, this.precision);\n      if (this.gpuPanelCompute) {\n        this.updatePanel(this.gpuPanelCompute, this.averageGpuCompute);\n      }\n      this.frames = 0;\n      this.prevCpuTime = time;\n      this.prevTime = time;\n    }\n    return time;\n  }\n  addToAverage(value, averageArray) {\n    averageArray.logs.push(value);\n    if (averageArray.logs.length > this.samplesLog) {\n      averageArray.logs.shift();\n    }\n    averageArray.graph.push(value);\n    if (averageArray.graph.length > this.samplesGraph) {\n      averageArray.graph.shift();\n    }\n  }\n  beginProfiling(marker) {\n    if (window.performance) {\n      window.performance.mark(marker);\n      this.isRunningCPUProfiling = true;\n    }\n  }\n  endProfiling(startMarker, endMarker, measureName) {\n    if (window.performance && endMarker && this.isRunningCPUProfiling) {\n      window.performance.mark(endMarker);\n      const cpuMeasure = performance.measure(measureName, startMarker, endMarker);\n      this.totalCpuDuration += cpuMeasure.duration;\n      this.isRunningCPUProfiling = false;\n    }\n  }\n  updatePanel(panel2, averageArray, precision = 2) {\n    if (averageArray.logs.length > 0) {\n      let sumLog = 0;\n      let max = 0.01;\n      for (let i = 0; i < averageArray.logs.length; i++) {\n        sumLog += averageArray.logs[i];\n        if (averageArray.logs[i] > max) {\n          max = averageArray.logs[i];\n        }\n      }\n      let sumGraph = 0;\n      let maxGraph = 0.01;\n      for (let i = 0; i < averageArray.graph.length; i++) {\n        sumGraph += averageArray.graph[i];\n        if (averageArray.graph[i] > maxGraph) {\n          maxGraph = averageArray.graph[i];\n        }\n      }\n      if (panel2) {\n        panel2.update(sumLog / Math.min(averageArray.logs.length, this.samplesLog), sumGraph / Math.min(averageArray.graph.length, this.samplesGraph), max, maxGraph, precision);\n      }\n    }\n  }\n  get domElement() {\n    return this.dom;\n  }\n  patchThreeRenderer(renderer) {\n    const originalRenderMethod = renderer.render;\n    const statsInstance = this;\n    renderer.render = function(scene, camera) {\n      statsInstance.begin();\n      originalRenderMethod.call(this, scene, camera);\n      statsInstance.end();\n    };\n    this.threeRendererPatched = true;\n  }\n};\n_Stats.Panel = panel.Panel;\nlet Stats = _Stats;\nmodule.exports = Stats;\n//# sourceMappingURL=main.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3RhdHMtZ2wvZGlzdC9tYWluLmNqcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLGNBQWMsbUJBQU8sQ0FBQyxpRUFBYTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksSUFBSTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4QiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxnQ0FBZ0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlCQUF5QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOEJBQThCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOEJBQThCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLCtCQUErQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL25vZGVfbW9kdWxlcy9zdGF0cy1nbC9kaXN0L21haW4uY2pzPzIxMmEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBwYW5lbCA9IHJlcXVpcmUoXCIuL3BhbmVsLmNqc1wiKTtcbmNvbnN0IF9TdGF0cyA9IGNsYXNzIF9TdGF0czIge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdHJhY2tHUFUgPSBmYWxzZSxcbiAgICBsb2dzUGVyU2Vjb25kID0gMzAsXG4gICAgc2FtcGxlc0xvZyA9IDYwLFxuICAgIHNhbXBsZXNHcmFwaCA9IDEwLFxuICAgIHByZWNpc2lvbiA9IDIsXG4gICAgbWluaW1hbCA9IGZhbHNlLFxuICAgIGhvcml6b250YWwgPSB0cnVlLFxuICAgIG1vZGUgPSAwXG4gIH0gPSB7fSkge1xuICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgIHRoaXMuZXh0ID0gbnVsbDtcbiAgICB0aGlzLmFjdGl2ZVF1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLmdwdVF1ZXJpZXMgPSBbXTtcbiAgICB0aGlzLnRocmVlUmVuZGVyZXJQYXRjaGVkID0gZmFsc2U7XG4gICAgdGhpcy5mcmFtZXMgPSAwO1xuICAgIHRoaXMucmVuZGVyQ291bnQgPSAwO1xuICAgIHRoaXMuaXNSdW5uaW5nQ1BVUHJvZmlsaW5nID0gZmFsc2U7XG4gICAgdGhpcy50b3RhbENwdUR1cmF0aW9uID0gMDtcbiAgICB0aGlzLnRvdGFsR3B1RHVyYXRpb24gPSAwO1xuICAgIHRoaXMudG90YWxHcHVEdXJhdGlvbkNvbXB1dGUgPSAwO1xuICAgIHRoaXMudG90YWxGcHMgPSAwO1xuICAgIHRoaXMuZ3B1UGFuZWwgPSBudWxsO1xuICAgIHRoaXMuZ3B1UGFuZWxDb21wdXRlID0gbnVsbDtcbiAgICB0aGlzLmF2ZXJhZ2VGcHMgPSB7IGxvZ3M6IFtdLCBncmFwaDogW10gfTtcbiAgICB0aGlzLmF2ZXJhZ2VDcHUgPSB7IGxvZ3M6IFtdLCBncmFwaDogW10gfTtcbiAgICB0aGlzLmF2ZXJhZ2VHcHUgPSB7IGxvZ3M6IFtdLCBncmFwaDogW10gfTtcbiAgICB0aGlzLmF2ZXJhZ2VHcHVDb21wdXRlID0geyBsb2dzOiBbXSwgZ3JhcGg6IFtdIH07XG4gICAgdGhpcy5oYW5kbGVDbGljayA9IChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuc2hvd1BhbmVsKCsrdGhpcy5tb2RlICUgdGhpcy5kb20uY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgdGhpcy5yZXNpemVQYW5lbCh0aGlzLmZwc1BhbmVsLCAwKTtcbiAgICAgIHRoaXMucmVzaXplUGFuZWwodGhpcy5tc1BhbmVsLCAxKTtcbiAgICAgIGlmICh0aGlzLmdwdVBhbmVsKVxuICAgICAgICB0aGlzLnJlc2l6ZVBhbmVsKHRoaXMuZ3B1UGFuZWwsIDIpO1xuICAgICAgaWYgKHRoaXMuZ3B1UGFuZWxDb21wdXRlKVxuICAgICAgICB0aGlzLnJlc2l6ZVBhbmVsKHRoaXMuZ3B1UGFuZWxDb21wdXRlLCAzKTtcbiAgICB9O1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcbiAgICB0aGlzLm1pbmltYWwgPSBtaW5pbWFsO1xuICAgIHRoaXMudHJhY2tHUFUgPSB0cmFja0dQVTtcbiAgICB0aGlzLnNhbXBsZXNMb2cgPSBzYW1wbGVzTG9nO1xuICAgIHRoaXMuc2FtcGxlc0dyYXBoID0gc2FtcGxlc0dyYXBoO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIHRoaXMubG9nc1BlclNlY29uZCA9IGxvZ3NQZXJTZWNvbmQ7XG4gICAgdGhpcy5kb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHRoaXMuaW5pdGlhbGl6ZURPTSgpO1xuICAgIHRoaXMuYmVnaW5UaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgdGhpcy5wcmV2VGltZSA9IHRoaXMuYmVnaW5UaW1lO1xuICAgIHRoaXMucHJldkNwdVRpbWUgPSB0aGlzLmJlZ2luVGltZTtcbiAgICB0aGlzLmZwc1BhbmVsID0gdGhpcy5hZGRQYW5lbChuZXcgX1N0YXRzMi5QYW5lbChcIkZQU1wiLCBcIiMwZmZcIiwgXCIjMDAyXCIpLCAwKTtcbiAgICB0aGlzLm1zUGFuZWwgPSB0aGlzLmFkZFBhbmVsKG5ldyBfU3RhdHMyLlBhbmVsKFwiQ1BVXCIsIFwiIzBmMFwiLCBcIiMwMjBcIiksIDEpO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG4gIGluaXRpYWxpemVET00oKSB7XG4gICAgdGhpcy5kb20uc3R5bGUuY3NzVGV4dCA9IGBcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBvcGFjaXR5OiAwLjk7XG4gICAgICB6LWluZGV4OiAxMDAwMDtcbiAgICAgICR7dGhpcy5taW5pbWFsID8gXCJjdXJzb3I6IHBvaW50ZXI7XCIgOiBcIlwifVxuICAgIGA7XG4gIH1cbiAgc2V0dXBFdmVudExpc3RlbmVycygpIHtcbiAgICBpZiAodGhpcy5taW5pbWFsKSB7XG4gICAgICB0aGlzLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVDbGljayk7XG4gICAgICB0aGlzLnNob3dQYW5lbCh0aGlzLm1vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLmhhbmRsZVJlc2l6ZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGluaXQoY2FudmFzT3JHTCkge1xuICAgIGlmICghY2FudmFzT3JHTCkge1xuICAgICAgY29uc29sZS5lcnJvcignU3RhdHM6IFRoZSBcImNhbnZhc1wiIHBhcmFtZXRlciBpcyB1bmRlZmluZWQuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLmhhbmRsZVRocmVlUmVuZGVyZXIoY2FudmFzT3JHTCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGF3YWl0IHRoaXMuaGFuZGxlV2ViR1BVUmVuZGVyZXIoY2FudmFzT3JHTCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVXZWJHTChjYW52YXNPckdMKSlcbiAgICAgIHJldHVybjtcbiAgfVxuICBoYW5kbGVUaHJlZVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgaWYgKHJlbmRlcmVyLmlzV2ViR0xSZW5kZXJlciAmJiAhdGhpcy50aHJlZVJlbmRlcmVyUGF0Y2hlZCkge1xuICAgICAgdGhpcy5wYXRjaFRocmVlUmVuZGVyZXIocmVuZGVyZXIpO1xuICAgICAgdGhpcy5nbCA9IHJlbmRlcmVyLmdldENvbnRleHQoKTtcbiAgICAgIGlmICh0aGlzLnRyYWNrR1BVKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZUdQVVRyYWNraW5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFzeW5jIGhhbmRsZVdlYkdQVVJlbmRlcmVyKHJlbmRlcmVyKSB7XG4gICAgaWYgKHJlbmRlcmVyLmlzV2ViR1BVUmVuZGVyZXIpIHtcbiAgICAgIGlmICh0aGlzLnRyYWNrR1BVKSB7XG4gICAgICAgIHJlbmRlcmVyLmJhY2tlbmQudHJhY2tUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBpZiAoYXdhaXQgcmVuZGVyZXIuaGFzRmVhdHVyZUFzeW5jKFwidGltZXN0YW1wLXF1ZXJ5XCIpKSB7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplV2ViR1BVUGFuZWxzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuaW5mbyA9IHJlbmRlcmVyLmluZm87XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGluaXRpYWxpemVXZWJHUFVQYW5lbHMoKSB7XG4gICAgdGhpcy5ncHVQYW5lbCA9IHRoaXMuYWRkUGFuZWwobmV3IF9TdGF0czIuUGFuZWwoXCJHUFVcIiwgXCIjZmYwXCIsIFwiIzIyMFwiKSwgMik7XG4gICAgdGhpcy5ncHVQYW5lbENvbXB1dGUgPSB0aGlzLmFkZFBhbmVsKFxuICAgICAgbmV3IF9TdGF0czIuUGFuZWwoXCJDUFRcIiwgXCIjZTFlMWUxXCIsIFwiIzIxMjEyMVwiKSxcbiAgICAgIDNcbiAgICApO1xuICB9XG4gIGluaXRpYWxpemVXZWJHTChjYW52YXNPckdMKSB7XG4gICAgaWYgKGNhbnZhc09yR0wgaW5zdGFuY2VvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0KSB7XG4gICAgICB0aGlzLmdsID0gY2FudmFzT3JHTDtcbiAgICB9IGVsc2UgaWYgKGNhbnZhc09yR0wgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCB8fCBjYW52YXNPckdMIGluc3RhbmNlb2YgT2Zmc2NyZWVuQ2FudmFzKSB7XG4gICAgICB0aGlzLmdsID0gY2FudmFzT3JHTC5nZXRDb250ZXh0KFwid2ViZ2wyXCIpO1xuICAgICAgaWYgKCF0aGlzLmdsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0czogVW5hYmxlIHRvIG9idGFpbiBXZWJHTDIgY29udGV4dC5cIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJTdGF0czogSW52YWxpZCBpbnB1dCB0eXBlLiBFeHBlY3RlZCBXZWJHTDJSZW5kZXJpbmdDb250ZXh0LCBIVE1MQ2FudmFzRWxlbWVudCwgb3IgT2Zmc2NyZWVuQ2FudmFzLlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpbml0aWFsaXplR1BVVHJhY2tpbmcoKSB7XG4gICAgaWYgKHRoaXMuZ2wpIHtcbiAgICAgIHRoaXMuZXh0ID0gdGhpcy5nbC5nZXRFeHRlbnNpb24oXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyXCIpO1xuICAgICAgaWYgKHRoaXMuZXh0KSB7XG4gICAgICAgIHRoaXMuZ3B1UGFuZWwgPSB0aGlzLmFkZFBhbmVsKG5ldyBfU3RhdHMyLlBhbmVsKFwiR1BVXCIsIFwiI2ZmMFwiLCBcIiMyMjBcIiksIDIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBiZWdpbigpIHtcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nQ1BVUHJvZmlsaW5nKSB7XG4gICAgICB0aGlzLmJlZ2luUHJvZmlsaW5nKFwiY3B1LXN0YXJ0ZWRcIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5nbCB8fCAhdGhpcy5leHQpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkpIHtcbiAgICAgIHRoaXMuZ2wuZW5kUXVlcnkodGhpcy5leHQuVElNRV9FTEFQU0VEX0VYVCk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlUXVlcnkgPSB0aGlzLmdsLmNyZWF0ZVF1ZXJ5KCk7XG4gICAgaWYgKHRoaXMuYWN0aXZlUXVlcnkpIHtcbiAgICAgIHRoaXMuZ2wuYmVnaW5RdWVyeSh0aGlzLmV4dC5USU1FX0VMQVBTRURfRVhULCB0aGlzLmFjdGl2ZVF1ZXJ5KTtcbiAgICB9XG4gIH1cbiAgZW5kKCkge1xuICAgIHRoaXMucmVuZGVyQ291bnQrKztcbiAgICBpZiAodGhpcy5nbCAmJiB0aGlzLmV4dCAmJiB0aGlzLmFjdGl2ZVF1ZXJ5KSB7XG4gICAgICB0aGlzLmdsLmVuZFF1ZXJ5KHRoaXMuZXh0LlRJTUVfRUxBUFNFRF9FWFQpO1xuICAgICAgdGhpcy5ncHVRdWVyaWVzLnB1c2goeyBxdWVyeTogdGhpcy5hY3RpdmVRdWVyeSB9KTtcbiAgICAgIHRoaXMuYWN0aXZlUXVlcnkgPSBudWxsO1xuICAgIH1cbiAgfVxuICB1cGRhdGUoKSB7XG4gICAgaWYgKCF0aGlzLmluZm8pIHtcbiAgICAgIHRoaXMucHJvY2Vzc0dwdVF1ZXJpZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9jZXNzV2ViR1BVVGltZXN0YW1wcygpO1xuICAgIH1cbiAgICB0aGlzLmVuZFByb2ZpbGluZyhcImNwdS1zdGFydGVkXCIsIFwiY3B1LWZpbmlzaGVkXCIsIFwiY3B1LWR1cmF0aW9uXCIpO1xuICAgIHRoaXMudXBkYXRlQXZlcmFnZXMoKTtcbiAgICB0aGlzLnJlc2V0Q291bnRlcnMoKTtcbiAgfVxuICBwcm9jZXNzV2ViR1BVVGltZXN0YW1wcygpIHtcbiAgICB0aGlzLnRvdGFsR3B1RHVyYXRpb24gPSB0aGlzLmluZm8ucmVuZGVyLnRpbWVzdGFtcDtcbiAgICB0aGlzLnRvdGFsR3B1RHVyYXRpb25Db21wdXRlID0gdGhpcy5pbmZvLmNvbXB1dGUudGltZXN0YW1wO1xuICAgIHRoaXMuYWRkVG9BdmVyYWdlKHRoaXMudG90YWxHcHVEdXJhdGlvbkNvbXB1dGUsIHRoaXMuYXZlcmFnZUdwdUNvbXB1dGUpO1xuICB9XG4gIHVwZGF0ZUF2ZXJhZ2VzKCkge1xuICAgIHRoaXMuYWRkVG9BdmVyYWdlKHRoaXMudG90YWxDcHVEdXJhdGlvbiwgdGhpcy5hdmVyYWdlQ3B1KTtcbiAgICB0aGlzLmFkZFRvQXZlcmFnZSh0aGlzLnRvdGFsR3B1RHVyYXRpb24sIHRoaXMuYXZlcmFnZUdwdSk7XG4gIH1cbiAgcmVzZXRDb3VudGVycygpIHtcbiAgICB0aGlzLnJlbmRlckNvdW50ID0gMDtcbiAgICBpZiAodGhpcy50b3RhbENwdUR1cmF0aW9uID09PSAwKSB7XG4gICAgICB0aGlzLmJlZ2luUHJvZmlsaW5nKFwiY3B1LXN0YXJ0ZWRcIik7XG4gICAgfVxuICAgIHRoaXMudG90YWxDcHVEdXJhdGlvbiA9IDA7XG4gICAgdGhpcy50b3RhbEZwcyA9IDA7XG4gICAgdGhpcy5iZWdpblRpbWUgPSB0aGlzLmVuZEludGVybmFsKCk7XG4gIH1cbiAgcmVzaXplUGFuZWwocGFuZWwyLCBvZmZzZXQpIHtcbiAgICBwYW5lbDIuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGlmICh0aGlzLm1pbmltYWwpIHtcbiAgICAgIHBhbmVsMi5jYW52YXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYW5lbDIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XG4gICAgICAgIHBhbmVsMi5jYW52YXMuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgcGFuZWwyLmNhbnZhcy5zdHlsZS5sZWZ0ID0gb2Zmc2V0ICogcGFuZWwyLldJRFRIIC8gcGFuZWwyLlBSICsgXCJweFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFuZWwyLmNhbnZhcy5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgICAgcGFuZWwyLmNhbnZhcy5zdHlsZS50b3AgPSBvZmZzZXQgKiBwYW5lbDIuSEVJR0hUIC8gcGFuZWwyLlBSICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhZGRQYW5lbChwYW5lbDIsIG9mZnNldCkge1xuICAgIGlmIChwYW5lbDIuY2FudmFzKSB7XG4gICAgICB0aGlzLmRvbS5hcHBlbmRDaGlsZChwYW5lbDIuY2FudmFzKTtcbiAgICAgIHRoaXMucmVzaXplUGFuZWwocGFuZWwyLCBvZmZzZXQpO1xuICAgIH1cbiAgICByZXR1cm4gcGFuZWwyO1xuICB9XG4gIHNob3dQYW5lbChpZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb20uY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5kb20uY2hpbGRyZW5baV07XG4gICAgICBjaGlsZC5zdHlsZS5kaXNwbGF5ID0gaSA9PT0gaWQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICB9XG4gICAgdGhpcy5tb2RlID0gaWQ7XG4gIH1cbiAgcHJvY2Vzc0dwdVF1ZXJpZXMoKSB7XG4gICAgaWYgKCF0aGlzLmdsIHx8ICF0aGlzLmV4dClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLnRvdGFsR3B1RHVyYXRpb24gPSAwO1xuICAgIHRoaXMuZ3B1UXVlcmllcy5mb3JFYWNoKChxdWVyeUluZm8sIGluZGV4KSA9PiB7XG4gICAgICBpZiAodGhpcy5nbCkge1xuICAgICAgICBjb25zdCBhdmFpbGFibGUgPSB0aGlzLmdsLmdldFF1ZXJ5UGFyYW1ldGVyKHF1ZXJ5SW5mby5xdWVyeSwgdGhpcy5nbC5RVUVSWV9SRVNVTFRfQVZBSUxBQkxFKTtcbiAgICAgICAgY29uc3QgZGlzam9pbnQgPSB0aGlzLmdsLmdldFBhcmFtZXRlcih0aGlzLmV4dC5HUFVfRElTSk9JTlRfRVhUKTtcbiAgICAgICAgaWYgKGF2YWlsYWJsZSAmJiAhZGlzam9pbnQpIHtcbiAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGhpcy5nbC5nZXRRdWVyeVBhcmFtZXRlcihxdWVyeUluZm8ucXVlcnksIHRoaXMuZ2wuUVVFUllfUkVTVUxUKTtcbiAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGVsYXBzZWQgKiAxZS02O1xuICAgICAgICAgIHRoaXMudG90YWxHcHVEdXJhdGlvbiArPSBkdXJhdGlvbjtcbiAgICAgICAgICB0aGlzLmdsLmRlbGV0ZVF1ZXJ5KHF1ZXJ5SW5mby5xdWVyeSk7XG4gICAgICAgICAgdGhpcy5ncHVRdWVyaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBlbmRJbnRlcm5hbCgpIHtcbiAgICB0aGlzLmZyYW1lcysrO1xuICAgIGNvbnN0IHRpbWUgPSAocGVyZm9ybWFuY2UgfHwgRGF0ZSkubm93KCk7XG4gICAgY29uc3QgZWxhcHNlZCA9IHRpbWUgLSB0aGlzLnByZXZUaW1lO1xuICAgIGlmICh0aW1lID49IHRoaXMucHJldkNwdVRpbWUgKyAxZTMgLyB0aGlzLmxvZ3NQZXJTZWNvbmQpIHtcbiAgICAgIGNvbnN0IGZwcyA9IE1hdGgucm91bmQodGhpcy5mcmFtZXMgKiAxZTMgLyBlbGFwc2VkKTtcbiAgICAgIHRoaXMuYWRkVG9BdmVyYWdlKGZwcywgdGhpcy5hdmVyYWdlRnBzKTtcbiAgICAgIHRoaXMudXBkYXRlUGFuZWwodGhpcy5mcHNQYW5lbCwgdGhpcy5hdmVyYWdlRnBzLCAwKTtcbiAgICAgIHRoaXMudXBkYXRlUGFuZWwodGhpcy5tc1BhbmVsLCB0aGlzLmF2ZXJhZ2VDcHUsIHRoaXMucHJlY2lzaW9uKTtcbiAgICAgIHRoaXMudXBkYXRlUGFuZWwodGhpcy5ncHVQYW5lbCwgdGhpcy5hdmVyYWdlR3B1LCB0aGlzLnByZWNpc2lvbik7XG4gICAgICBpZiAodGhpcy5ncHVQYW5lbENvbXB1dGUpIHtcbiAgICAgICAgdGhpcy51cGRhdGVQYW5lbCh0aGlzLmdwdVBhbmVsQ29tcHV0ZSwgdGhpcy5hdmVyYWdlR3B1Q29tcHV0ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmZyYW1lcyA9IDA7XG4gICAgICB0aGlzLnByZXZDcHVUaW1lID0gdGltZTtcbiAgICAgIHRoaXMucHJldlRpbWUgPSB0aW1lO1xuICAgIH1cbiAgICByZXR1cm4gdGltZTtcbiAgfVxuICBhZGRUb0F2ZXJhZ2UodmFsdWUsIGF2ZXJhZ2VBcnJheSkge1xuICAgIGF2ZXJhZ2VBcnJheS5sb2dzLnB1c2godmFsdWUpO1xuICAgIGlmIChhdmVyYWdlQXJyYXkubG9ncy5sZW5ndGggPiB0aGlzLnNhbXBsZXNMb2cpIHtcbiAgICAgIGF2ZXJhZ2VBcnJheS5sb2dzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGF2ZXJhZ2VBcnJheS5ncmFwaC5wdXNoKHZhbHVlKTtcbiAgICBpZiAoYXZlcmFnZUFycmF5LmdyYXBoLmxlbmd0aCA+IHRoaXMuc2FtcGxlc0dyYXBoKSB7XG4gICAgICBhdmVyYWdlQXJyYXkuZ3JhcGguc2hpZnQoKTtcbiAgICB9XG4gIH1cbiAgYmVnaW5Qcm9maWxpbmcobWFya2VyKSB7XG4gICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgd2luZG93LnBlcmZvcm1hbmNlLm1hcmsobWFya2VyKTtcbiAgICAgIHRoaXMuaXNSdW5uaW5nQ1BVUHJvZmlsaW5nID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgZW5kUHJvZmlsaW5nKHN0YXJ0TWFya2VyLCBlbmRNYXJrZXIsIG1lYXN1cmVOYW1lKSB7XG4gICAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiBlbmRNYXJrZXIgJiYgdGhpcy5pc1J1bm5pbmdDUFVQcm9maWxpbmcpIHtcbiAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKGVuZE1hcmtlcik7XG4gICAgICBjb25zdCBjcHVNZWFzdXJlID0gcGVyZm9ybWFuY2UubWVhc3VyZShtZWFzdXJlTmFtZSwgc3RhcnRNYXJrZXIsIGVuZE1hcmtlcik7XG4gICAgICB0aGlzLnRvdGFsQ3B1RHVyYXRpb24gKz0gY3B1TWVhc3VyZS5kdXJhdGlvbjtcbiAgICAgIHRoaXMuaXNSdW5uaW5nQ1BVUHJvZmlsaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHVwZGF0ZVBhbmVsKHBhbmVsMiwgYXZlcmFnZUFycmF5LCBwcmVjaXNpb24gPSAyKSB7XG4gICAgaWYgKGF2ZXJhZ2VBcnJheS5sb2dzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBzdW1Mb2cgPSAwO1xuICAgICAgbGV0IG1heCA9IDAuMDE7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF2ZXJhZ2VBcnJheS5sb2dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN1bUxvZyArPSBhdmVyYWdlQXJyYXkubG9nc1tpXTtcbiAgICAgICAgaWYgKGF2ZXJhZ2VBcnJheS5sb2dzW2ldID4gbWF4KSB7XG4gICAgICAgICAgbWF4ID0gYXZlcmFnZUFycmF5LmxvZ3NbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBzdW1HcmFwaCA9IDA7XG4gICAgICBsZXQgbWF4R3JhcGggPSAwLjAxO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdmVyYWdlQXJyYXkuZ3JhcGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc3VtR3JhcGggKz0gYXZlcmFnZUFycmF5LmdyYXBoW2ldO1xuICAgICAgICBpZiAoYXZlcmFnZUFycmF5LmdyYXBoW2ldID4gbWF4R3JhcGgpIHtcbiAgICAgICAgICBtYXhHcmFwaCA9IGF2ZXJhZ2VBcnJheS5ncmFwaFtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhbmVsMikge1xuICAgICAgICBwYW5lbDIudXBkYXRlKHN1bUxvZyAvIE1hdGgubWluKGF2ZXJhZ2VBcnJheS5sb2dzLmxlbmd0aCwgdGhpcy5zYW1wbGVzTG9nKSwgc3VtR3JhcGggLyBNYXRoLm1pbihhdmVyYWdlQXJyYXkuZ3JhcGgubGVuZ3RoLCB0aGlzLnNhbXBsZXNHcmFwaCksIG1heCwgbWF4R3JhcGgsIHByZWNpc2lvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBkb21FbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLmRvbTtcbiAgfVxuICBwYXRjaFRocmVlUmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICBjb25zdCBvcmlnaW5hbFJlbmRlck1ldGhvZCA9IHJlbmRlcmVyLnJlbmRlcjtcbiAgICBjb25zdCBzdGF0c0luc3RhbmNlID0gdGhpcztcbiAgICByZW5kZXJlci5yZW5kZXIgPSBmdW5jdGlvbihzY2VuZSwgY2FtZXJhKSB7XG4gICAgICBzdGF0c0luc3RhbmNlLmJlZ2luKCk7XG4gICAgICBvcmlnaW5hbFJlbmRlck1ldGhvZC5jYWxsKHRoaXMsIHNjZW5lLCBjYW1lcmEpO1xuICAgICAgc3RhdHNJbnN0YW5jZS5lbmQoKTtcbiAgICB9O1xuICAgIHRoaXMudGhyZWVSZW5kZXJlclBhdGNoZWQgPSB0cnVlO1xuICB9XG59O1xuX1N0YXRzLlBhbmVsID0gcGFuZWwuUGFuZWw7XG5sZXQgU3RhdHMgPSBfU3RhdHM7XG5tb2R1bGUuZXhwb3J0cyA9IFN0YXRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbi5janMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/stats-gl/dist/main.cjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/stats-gl/dist/panel.cjs":
/*!**********************************************!*\
  !*** ./node_modules/stats-gl/dist/panel.cjs ***!
  \**********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, Symbol.toStringTag, { value: \"Module\" });\nclass Panel {\n  constructor(name, fg, bg) {\n    this.name = name;\n    this.fg = fg;\n    this.bg = bg;\n    this.gradient = null;\n    this.PR = Math.round(window.devicePixelRatio || 1);\n    this.WIDTH = 90 * this.PR;\n    this.HEIGHT = 48 * this.PR;\n    this.TEXT_X = 3 * this.PR;\n    this.TEXT_Y = 2 * this.PR;\n    this.GRAPH_X = 3 * this.PR;\n    this.GRAPH_Y = 15 * this.PR;\n    this.GRAPH_WIDTH = 84 * this.PR;\n    this.GRAPH_HEIGHT = 30 * this.PR;\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.WIDTH;\n    this.canvas.height = this.HEIGHT;\n    this.canvas.style.width = \"90px\";\n    this.canvas.style.height = \"48px\";\n    this.canvas.style.position = \"absolute\";\n    this.canvas.style.cssText = \"width:90px;height:48px\";\n    this.context = this.canvas.getContext(\"2d\");\n    this.initializeCanvas();\n  }\n  createGradient() {\n    if (!this.context)\n      throw new Error(\"No context\");\n    const gradient = this.context.createLinearGradient(\n      0,\n      this.GRAPH_Y,\n      0,\n      this.GRAPH_Y + this.GRAPH_HEIGHT\n    );\n    let startColor;\n    const endColor = this.fg;\n    switch (this.fg.toLowerCase()) {\n      case \"#0ff\":\n        startColor = \"#006666\";\n        break;\n      case \"#0f0\":\n        startColor = \"#006600\";\n        break;\n      case \"#ff0\":\n        startColor = \"#666600\";\n        break;\n      case \"#e1e1e1\":\n        startColor = \"#666666\";\n        break;\n      default:\n        startColor = this.bg;\n        break;\n    }\n    gradient.addColorStop(0, startColor);\n    gradient.addColorStop(1, endColor);\n    return gradient;\n  }\n  initializeCanvas() {\n    if (!this.context)\n      return;\n    this.context.font = \"bold \" + 9 * this.PR + \"px Helvetica,Arial,sans-serif\";\n    this.context.textBaseline = \"top\";\n    this.gradient = this.createGradient();\n    this.context.fillStyle = this.bg;\n    this.context.fillRect(0, 0, this.WIDTH, this.HEIGHT);\n    this.context.fillStyle = this.fg;\n    this.context.fillText(this.name, this.TEXT_X, this.TEXT_Y);\n    this.context.fillStyle = this.fg;\n    this.context.fillRect(this.GRAPH_X, this.GRAPH_Y, this.GRAPH_WIDTH, this.GRAPH_HEIGHT);\n    this.context.fillStyle = this.bg;\n    this.context.globalAlpha = 0.9;\n    this.context.fillRect(this.GRAPH_X, this.GRAPH_Y, this.GRAPH_WIDTH, this.GRAPH_HEIGHT);\n  }\n  update(value, valueGraph, maxValue, maxGraph, decimals = 0) {\n    if (!this.context || !this.gradient)\n      return;\n    const min = Math.min(Infinity, value);\n    const max = Math.max(maxValue, value);\n    maxGraph = Math.max(maxGraph, valueGraph);\n    this.context.globalAlpha = 1;\n    this.context.fillStyle = this.bg;\n    this.context.fillRect(0, 0, this.WIDTH, this.GRAPH_Y);\n    this.context.fillStyle = this.fg;\n    this.context.fillText(\n      `${value.toFixed(decimals)} ${this.name} (${min.toFixed(decimals)}-${parseFloat(\n        max.toFixed(decimals)\n      )})`,\n      this.TEXT_X,\n      this.TEXT_Y\n    );\n    this.context.drawImage(\n      this.canvas,\n      this.GRAPH_X + this.PR,\n      this.GRAPH_Y,\n      this.GRAPH_WIDTH - this.PR,\n      this.GRAPH_HEIGHT,\n      this.GRAPH_X,\n      this.GRAPH_Y,\n      this.GRAPH_WIDTH - this.PR,\n      this.GRAPH_HEIGHT\n    );\n    const columnHeight = this.GRAPH_HEIGHT - (1 - valueGraph / maxGraph) * this.GRAPH_HEIGHT;\n    if (columnHeight > 0) {\n      this.context.globalAlpha = 1;\n      this.context.fillStyle = this.gradient;\n      this.context.fillRect(\n        this.GRAPH_X + this.GRAPH_WIDTH - this.PR,\n        this.GRAPH_Y + this.GRAPH_HEIGHT - columnHeight,\n        this.PR,\n        columnHeight\n      );\n    }\n  }\n}\nexports.Panel = Panel;\n//# sourceMappingURL=panel.cjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc3RhdHMtZ2wvZGlzdC9wYW5lbC5janMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixxREFBcUQsaUJBQWlCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5QkFBeUIsRUFBRSxXQUFXLEdBQUcsc0JBQXNCLEdBQUc7QUFDM0U7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL3N0YXRzLWdsL2Rpc3QvcGFuZWwuY2pzPzQwOGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pO1xuY2xhc3MgUGFuZWwge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBmZywgYmcpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZmcgPSBmZztcbiAgICB0aGlzLmJnID0gYmc7XG4gICAgdGhpcy5ncmFkaWVudCA9IG51bGw7XG4gICAgdGhpcy5QUiA9IE1hdGgucm91bmQod2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSk7XG4gICAgdGhpcy5XSURUSCA9IDkwICogdGhpcy5QUjtcbiAgICB0aGlzLkhFSUdIVCA9IDQ4ICogdGhpcy5QUjtcbiAgICB0aGlzLlRFWFRfWCA9IDMgKiB0aGlzLlBSO1xuICAgIHRoaXMuVEVYVF9ZID0gMiAqIHRoaXMuUFI7XG4gICAgdGhpcy5HUkFQSF9YID0gMyAqIHRoaXMuUFI7XG4gICAgdGhpcy5HUkFQSF9ZID0gMTUgKiB0aGlzLlBSO1xuICAgIHRoaXMuR1JBUEhfV0lEVEggPSA4NCAqIHRoaXMuUFI7XG4gICAgdGhpcy5HUkFQSF9IRUlHSFQgPSAzMCAqIHRoaXMuUFI7XG4gICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5XSURUSDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLkhFSUdIVDtcbiAgICB0aGlzLmNhbnZhcy5zdHlsZS53aWR0aCA9IFwiOTBweFwiO1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiNDhweFwiO1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHRoaXMuY2FudmFzLnN0eWxlLmNzc1RleHQgPSBcIndpZHRoOjkwcHg7aGVpZ2h0OjQ4cHhcIjtcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy5pbml0aWFsaXplQ2FudmFzKCk7XG4gIH1cbiAgY3JlYXRlR3JhZGllbnQoKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRleHQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb250ZXh0XCIpO1xuICAgIGNvbnN0IGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxuICAgICAgMCxcbiAgICAgIHRoaXMuR1JBUEhfWSxcbiAgICAgIDAsXG4gICAgICB0aGlzLkdSQVBIX1kgKyB0aGlzLkdSQVBIX0hFSUdIVFxuICAgICk7XG4gICAgbGV0IHN0YXJ0Q29sb3I7XG4gICAgY29uc3QgZW5kQ29sb3IgPSB0aGlzLmZnO1xuICAgIHN3aXRjaCAodGhpcy5mZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiIzBmZlwiOlxuICAgICAgICBzdGFydENvbG9yID0gXCIjMDA2NjY2XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIiMwZjBcIjpcbiAgICAgICAgc3RhcnRDb2xvciA9IFwiIzAwNjYwMFwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCIjZmYwXCI6XG4gICAgICAgIHN0YXJ0Q29sb3IgPSBcIiM2NjY2MDBcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiI2UxZTFlMVwiOlxuICAgICAgICBzdGFydENvbG9yID0gXCIjNjY2NjY2XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgc3RhcnRDb2xvciA9IHRoaXMuYmc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgc3RhcnRDb2xvcik7XG4gICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsIGVuZENvbG9yKTtcbiAgICByZXR1cm4gZ3JhZGllbnQ7XG4gIH1cbiAgaW5pdGlhbGl6ZUNhbnZhcygpIHtcbiAgICBpZiAoIXRoaXMuY29udGV4dClcbiAgICAgIHJldHVybjtcbiAgICB0aGlzLmNvbnRleHQuZm9udCA9IFwiYm9sZCBcIiArIDkgKiB0aGlzLlBSICsgXCJweCBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZlwiO1xuICAgIHRoaXMuY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xuICAgIHRoaXMuZ3JhZGllbnQgPSB0aGlzLmNyZWF0ZUdyYWRpZW50KCk7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuYmc7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuV0lEVEgsIHRoaXMuSEVJR0hUKTtcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5mZztcbiAgICB0aGlzLmNvbnRleHQuZmlsbFRleHQodGhpcy5uYW1lLCB0aGlzLlRFWFRfWCwgdGhpcy5URVhUX1kpO1xuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmZnO1xuICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCh0aGlzLkdSQVBIX1gsIHRoaXMuR1JBUEhfWSwgdGhpcy5HUkFQSF9XSURUSCwgdGhpcy5HUkFQSF9IRUlHSFQpO1xuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmJnO1xuICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IDAuOTtcbiAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QodGhpcy5HUkFQSF9YLCB0aGlzLkdSQVBIX1ksIHRoaXMuR1JBUEhfV0lEVEgsIHRoaXMuR1JBUEhfSEVJR0hUKTtcbiAgfVxuICB1cGRhdGUodmFsdWUsIHZhbHVlR3JhcGgsIG1heFZhbHVlLCBtYXhHcmFwaCwgZGVjaW1hbHMgPSAwKSB7XG4gICAgaWYgKCF0aGlzLmNvbnRleHQgfHwgIXRoaXMuZ3JhZGllbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbWluID0gTWF0aC5taW4oSW5maW5pdHksIHZhbHVlKTtcbiAgICBjb25zdCBtYXggPSBNYXRoLm1heChtYXhWYWx1ZSwgdmFsdWUpO1xuICAgIG1heEdyYXBoID0gTWF0aC5tYXgobWF4R3JhcGgsIHZhbHVlR3JhcGgpO1xuICAgIHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuYmc7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuV0lEVEgsIHRoaXMuR1JBUEhfWSk7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuZmc7XG4gICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KFxuICAgICAgYCR7dmFsdWUudG9GaXhlZChkZWNpbWFscyl9ICR7dGhpcy5uYW1lfSAoJHttaW4udG9GaXhlZChkZWNpbWFscyl9LSR7cGFyc2VGbG9hdChcbiAgICAgICAgbWF4LnRvRml4ZWQoZGVjaW1hbHMpXG4gICAgICApfSlgLFxuICAgICAgdGhpcy5URVhUX1gsXG4gICAgICB0aGlzLlRFWFRfWVxuICAgICk7XG4gICAgdGhpcy5jb250ZXh0LmRyYXdJbWFnZShcbiAgICAgIHRoaXMuY2FudmFzLFxuICAgICAgdGhpcy5HUkFQSF9YICsgdGhpcy5QUixcbiAgICAgIHRoaXMuR1JBUEhfWSxcbiAgICAgIHRoaXMuR1JBUEhfV0lEVEggLSB0aGlzLlBSLFxuICAgICAgdGhpcy5HUkFQSF9IRUlHSFQsXG4gICAgICB0aGlzLkdSQVBIX1gsXG4gICAgICB0aGlzLkdSQVBIX1ksXG4gICAgICB0aGlzLkdSQVBIX1dJRFRIIC0gdGhpcy5QUixcbiAgICAgIHRoaXMuR1JBUEhfSEVJR0hUXG4gICAgKTtcbiAgICBjb25zdCBjb2x1bW5IZWlnaHQgPSB0aGlzLkdSQVBIX0hFSUdIVCAtICgxIC0gdmFsdWVHcmFwaCAvIG1heEdyYXBoKSAqIHRoaXMuR1JBUEhfSEVJR0hUO1xuICAgIGlmIChjb2x1bW5IZWlnaHQgPiAwKSB7XG4gICAgICB0aGlzLmNvbnRleHQuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuZ3JhZGllbnQ7XG4gICAgICB0aGlzLmNvbnRleHQuZmlsbFJlY3QoXG4gICAgICAgIHRoaXMuR1JBUEhfWCArIHRoaXMuR1JBUEhfV0lEVEggLSB0aGlzLlBSLFxuICAgICAgICB0aGlzLkdSQVBIX1kgKyB0aGlzLkdSQVBIX0hFSUdIVCAtIGNvbHVtbkhlaWdodCxcbiAgICAgICAgdGhpcy5QUixcbiAgICAgICAgY29sdW1uSGVpZ2h0XG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0cy5QYW5lbCA9IFBhbmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFuZWwuY2pzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/stats-gl/dist/panel.cjs\n");

/***/ })

};
;